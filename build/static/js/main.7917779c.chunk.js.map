{"version":3,"sources":["components/BlogForm.js","components/Post.js","components/BlogPosts.js","components/Notification.js","components/Filter.js","components/FilterComponent.js","components/LoginForm.js","services/blogposts.js","services/login.js","App.js","index.js"],"names":["BlogForm","props","onSubmit","onSubmitChange","value","authorValue","onChange","onAuthorChange","titleValue","onTitleChange","urlValue","onUrlChange","type","onClick","onClear","Post","author","title","url","likes","id","onLikeClick","onDeleteClick","href","BlogPosts","list","map","p","key","Notification","notificationObject","messageStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","success","color","background","fail","style","message","Filter","newFilter","FilterComponent","category","handleCategoryChange","onFilterInputChange","name","checked","LoginForm","username","onUsernameChange","password","onPasswordChange","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","put","deletePost","delete","setToken","newToken","login","credentials","App","useState","blogPosts","setBlogPosts","newAuthor","setNewAuthor","newTitle","setNewTitle","newUrl","setNewUrl","setLikes","notification","setNotification","setNewFilter","filterCategory","setFilterCategory","setUsername","setPassword","user","setUser","useEffect","blogpostsServices","catch","error","console","log","loggedBlogUserJSON","window","localStorage","getItem","loggedUser","JSON","parse","resetInputFields","displayMessage","setTimeout","handleLogin","event","preventDefault","loginServices","setItem","stringify","handleLogout","removeItem","postsToShow","filter","toLowerCase","includes","integer","parseInt","filterByCategory","className","target","oldPost","newPost","newBlogPost","Math","floor","random","equalPost","length","confirm","returnedBlogPost","concat","postToUpdate","find","updatedPost","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7917779c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst BlogForm = (props) => (\n  <form onSubmit={props.onSubmitChange}>\n    <p>\n      author:\n      <input value={props.authorValue} onChange={props.onAuthorChange} />\n    </p>\n    <p>\n      title: <input value={props.titleValue} onChange={props.onTitleChange} />\n    </p>\n    <p>\n      url: <input value={props.urlValue} onChange={props.onUrlChange} />\n    </p>\n    <p>\n      <button type=\"submit\">ADD</button>\n      <button onClick={props.onClear} type=\"reset\">\n        CLEAR\n      </button>\n    </p>\n  </form>\n);\n\nexport default BlogForm;\n","import React from \"react\";\n\nconst Post = ({\n  author,\n  title,\n  url,\n  likes,\n  id,\n  onLikeClick,\n  onDeleteClick,\n}) => {\n  return (\n    <tr>\n      <td>{author}</td>\n      <td>{title}</td>\n      <td>\n        <a href={url}>Link to {title}</a>\n      </td>\n      <td>{likes}</td>\n      <td>\n        <button onClick={() => onLikeClick(id)}>LIKE</button>\n      </td>\n      <td>\n        <button onClick={() => onDeleteClick(id, title)}>DELETE</button>\n      </td>\n    </tr>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport Post from \"./Post\";\n\nconst BlogPosts = (props) => {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Author</th>\n          <th>Title</th>\n          <th>Url</th>\n          <th>Likes</th>\n          <th>Like Button</th>\n          <th>Delete Button</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.list.map((p) => (\n          <Post\n            key={p.id}\n            author={p.author}\n            title={p.title}\n            url={p.url}\n            likes={p.likes}\n            id={p.id}\n            onLikeClick={props.onLikeClick}\n            onDeleteClick={props.onDeleteClick}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default BlogPosts;\n","import React from \"react\";\n\nconst Notification = ({ notificationObject }) => {\n  const messageStyle = {\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const success = {\n    color: \"#429745\",\n    background: \"#a9daab\",\n    ...messageStyle,\n  };\n\n  const fail = {\n    color: \"#a34847\",\n    background: \"#d49e9d\",\n    ...messageStyle,\n  };\n\n  if (notificationObject === null) {\n    return null;\n  }\n  return (\n    <div style={notificationObject.type === \"success\" ? success : fail}>\n      {notificationObject.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Filter = (props) => (\n  <p>\n    Filter entries by {props.type}:\n    <input value={props.newFilter} onChange={props.onChange} />\n  </p>\n);\n\nexport default Filter;\n","import React from \"react\";\nimport Filter from \"./Filter\";\n\nconst FilterComponent = ({\n  category,\n  handleCategoryChange,\n  newFilter,\n  onFilterInputChange,\n}) => (\n  <div>\n    <h2>Filter posts</h2>\n    <form>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"categorie\"\n          value=\"author\"\n          checked={category === \"author\"}\n          onChange={handleCategoryChange}\n        />\n        author\n      </label>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"categorie\"\n          value=\"title\"\n          checked={category === \"title\"}\n          onChange={handleCategoryChange}\n        />\n        title\n      </label>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"categorie\"\n          value=\"likes\"\n          checked={category === \"likes\"}\n          onChange={handleCategoryChange}\n        />\n        likes\n      </label>\n    </form>\n    <Filter\n      type={category}\n      newFilter={newFilter}\n      onChange={onFilterInputChange}\n    />\n  </div>\n);\n\nexport default FilterComponent;\n","import React from \"react\";\n\nconst LoginForm = (props) => (\n  <>\n    <h2>log in to application</h2>\n    <form onSubmit={props.onSubmitChange}>\n      <p>\n        username:\n        <input\n          type=\"text\"\n          name=\"Username\"\n          value={props.username}\n          onChange={props.onUsernameChange}\n        />\n      </p>\n      <p>\n        password:\n        <input\n          type=\"text\"\n          name=\"Password\"\n          value={props.password}\n          onChange={props.onPasswordChange}\n        />\n      </p>\n      <button type=\"submit\">login</button>\n    </form>\n  </>\n);\n\nexport default LoginForm;\n","import axios from \"axios\";\nconst baseUrl = \"/blogPosts\";\n\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = async (id, newObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newObject);\n  return response.data;\n};\n\nconst deletePost = async (id) => {\n  const response = await axios.delete(`${baseUrl}/${id}`);\n  return response.data;\n};\n\nexport default { getAll, create, update, deletePost, setToken };\n","import axios from \"axios\";\nconst baseUrl = \"/login\";\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default { login };\n","import React, { useState, useEffect } from \"react\";\nimport BlogForm from \"./components/BlogForm\";\nimport BlogPosts from \"./components/BlogPosts\";\nimport Notification from \"./components/Notification\";\nimport FilterComponent from \"./components/FilterComponent\";\nimport LoginForm from \"./components/LoginForm\";\nimport blogpostsServices from \"./services/blogposts\";\nimport loginServices from \"./services/login\";\nimport \"./App.css\";\n\nfunction App() {\n  const [blogPosts, setBlogPosts] = useState([]);\n  const [newAuthor, setNewAuthor] = useState(\"\");\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [newUrl, setNewUrl] = useState(\"\");\n  const [likes, setLikes] = useState(0);\n  const [notification, setNotification] = useState(null);\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"author\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    blogpostsServices\n      .getAll()\n      .then((data) => setBlogPosts(data))\n      .catch((error) => console.log(\"there was an error\", error));\n  }, []);\n\n  const createRandomId = () => {\n    return Math.floor((1 + Math.random()) * 0x100);\n  };\n\n  useEffect(() => {\n    const loggedBlogUserJSON = window.localStorage.getItem(\"loggedBlogUser\");\n    if (loggedBlogUserJSON) {\n      const loggedUser = JSON.parse(loggedBlogUserJSON);\n      setUser(loggedUser);\n      blogpostsServices.setToken(loggedUser.token);\n    }\n  }, []);\n\n  const resetInputFields = () => {\n    setNewAuthor(\"\");\n    setNewTitle(\"\");\n    setNewUrl(\"\");\n    setUsername(\"\");\n    setPassword(\"\");\n  };\n\n  const resetAllInputs = (event) => {\n    event.preventDefault();\n    resetInputFields();\n  };\n\n  const displayMessage = (message, type) => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const updatePost = (oldPost, newPost) => {\n    const answer = window.confirm(\n      `${oldPost.title} already exists. Do you want to update this entry?`\n    );\n    if (answer) {\n      blogpostsServices.update(oldPost.id, newPost).then((response) => {\n        setBlogPosts(\n          blogPosts.map((p) => (p.id !== oldPost.id ? p : response))\n        );\n        resetInputFields();\n        displayMessage(`Entry for ${newPost.title} was changed`, \"success\");\n      });\n    } else {\n      resetInputFields();\n    }\n  };\n\n  const addBlogPost = (event) => {\n    event.preventDefault();\n    const newBlogPost = {\n      author: newAuthor,\n      title: newTitle,\n      url: newUrl,\n      likes: likes,\n      id: createRandomId(),\n    };\n\n    const equalPost = blogPosts.filter(\n      (p) => p.title.toLowerCase() === newBlogPost.title.toLowerCase()\n    );\n\n    equalPost.length > 0\n      ? updatePost(equalPost[0], newBlogPost)\n      : blogpostsServices\n          .create(newBlogPost)\n          .then((returnedBlogPost) => {\n            setBlogPosts(blogPosts.concat(returnedBlogPost));\n            resetInputFields();\n            displayMessage(\n              `a new blog \"${returnedBlogPost.title}\" by ${user.username} has been added`,\n              \"success\"\n            );\n          })\n          .catch((error) => {\n            resetInputFields();\n            console.log(\"this is the error\", error);\n          });\n  };\n\n  const onLikeClick = (id) => {\n    const postToUpdate = blogPosts.find((p) => p.id === id);\n    const updatedPost = {\n      likes: setLikes(postToUpdate.likes++),\n      ...postToUpdate,\n    };\n\n    blogpostsServices\n      .update(id, updatedPost)\n      .then((data) =>\n        setBlogPosts(blogPosts.map((p) => (p.id === id ? data : p)))\n      );\n  };\n\n  const onDeleteClick = (id, title) => {\n    const answer = window.confirm(`Delete ${title}?`);\n    if (answer) {\n      blogpostsServices\n        .deletePost(id)\n        .then((data) => {\n          setBlogPosts(blogPosts.filter((p) => p.id !== id));\n          displayMessage(`${title} has been deleted`, \"success\");\n        })\n        .catch((error) =>\n          displayMessage(`${title} has already been deleted`, \"fail\")\n        );\n    } else {\n      setBlogPosts(blogPosts);\n    }\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    try {\n      const user = await loginServices.login({ username, password });\n      blogpostsServices.setToken(user.token);\n      window.localStorage.setItem(\"loggedBlogUser\", JSON.stringify(user));\n      setUser(user);\n      console.log(user);\n      resetInputFields();\n    } catch (exception) {\n      displayMessage(\"wrong username or password\", \"fail\");\n    }\n  };\n\n  const handleLogout = async (event) => {\n    console.log(\"loggout was pressed\");\n    window.localStorage.removeItem(\"loggedBlogUser\");\n    setUser(null);\n  };\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value);\n  };\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value);\n  };\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value);\n  };\n\n  const handleCategoryChange = (event) => setFilterCategory(event.target.value);\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const filterByCategory = (type, list, filter) => {\n    if (type === \"author\") {\n      return list.filter((p) =>\n        p.author.toLowerCase().includes(filter.toLowerCase())\n      );\n    } else if (type === \"title\") {\n      return list.filter((p) =>\n        p.title.toLowerCase().includes(filter.toLowerCase())\n      );\n    } else if (type === \"likes\") {\n      const integer = parseInt(filter);\n      if (integer) {\n        return list.filter((p) => p.likes >= integer);\n      } else {\n        console.log(\"please enter a number\");\n      }\n    }\n  };\n\n  const postsToShow =\n    newFilter !== \"\"\n      ? filterByCategory(filterCategory, blogPosts, newFilter)\n      : blogPosts;\n\n  return (\n    <div className=\"App\">\n      <h1>Blog List</h1>\n      <Notification notificationObject={notification} />\n      {user === null ? (\n        <LoginForm\n          password={password}\n          username={username}\n          onUsernameChange={({ target }) => setUsername(target.value)}\n          onPasswordChange={({ target }) => setPassword(target.value)}\n          onSubmitChange={handleLogin}\n        />\n      ) : (\n        <>\n          <p>{user.username} logged in</p>\n          <button onClick={handleLogout}>logout</button>\n          <FilterComponent\n            category={filterCategory}\n            handleCategoryChange={handleCategoryChange}\n            newFilter={newFilter}\n            onFilterInputChange={handleFilterChange}\n          />\n          <h2>Add a new blog entry</h2>\n          <BlogForm\n            onSubmitChange={addBlogPost}\n            onClear={resetAllInputs}\n            onAuthorChange={handleAuthorChange}\n            onTitleChange={handleTitleChange}\n            onUrlChange={handleUrlChange}\n            authorValue={newAuthor}\n            titleValue={newTitle}\n            urlValue={newUrl}\n          />\n          <h2>List of blogs</h2>\n          <BlogPosts\n            list={postsToShow}\n            onLikeClick={onLikeClick}\n            onDeleteClick={onDeleteClick}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}