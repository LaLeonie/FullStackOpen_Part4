{"version":3,"sources":["components/BlogForm.js","components/Post.js","components/BlogPosts.js","components/Notification.js","components/Filter.js","components/Togglable.js","components/FilterComponent.js","components/LoginForm.js","services/blogposts.js","services/login.js","App.js","index.js"],"names":["BlogForm","addPostFunction","useState","newAuthor","setNewAuthor","newTitle","setNewTitle","newUrl","setNewUrl","resetInputFields","onSubmit","event","preventDefault","author","title","url","id","value","onChange","target","type","onClick","Post","likes","onLikeClick","onDeleteClick","href","className","BlogPosts","list","sort","a","b","map","p","key","Notification","notificationObject","messageStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","success","color","background","fail","style","message","Filter","props","name","newFilter","Togglable","React","forwardRef","ref","visible","setVisible","toggleVisible","hideWhenVisible","display","showWhenVisible","useImperativeHandle","buttonLabel","children","displayName","FilterComponent","category","handleCategoryChange","filter","onFilterInputChange","checked","LoginForm","onLoginFunction","username","setUsername","password","setPassword","PropsTypes","func","isRequired","token","getAll","axios","get","then","response","data","create","newObject","config","headers","Authorization","post","update","put","deletePost","delete","setToken","newToken","login","credentials","App","blogPosts","setBlogPosts","setLikes","notification","setNotification","setNewFilter","filterCategory","setFilterCategory","user","setUser","useEffect","blogpostsServices","catch","error","console","log","loggedBlogUserJSON","window","localStorage","getItem","loggedUser","JSON","parse","displayMessage","setTimeout","handleLogin","loginServices","setItem","stringify","handleLogout","removeItem","postsToShow","toLowerCase","includes","integer","parseInt","filterByCategory","blogFormRef","createRef","newPostObject","oldPost","newPost","newBlogPost","Math","floor","random","equalPost","length","confirm","returnedBlogPost","concat","current","postToUpdate","find","updatedPost","errorMessage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa6447ae.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nconst BlogForm = ({ addPostFunction }) => {\n  const [newAuthor, setNewAuthor] = useState(\"\");\n  const [newTitle, setNewTitle] = useState(\"\");\n  const [newUrl, setNewUrl] = useState(\"\");\n\n  const handleAuthorChange = (event) => {\n    setNewAuthor(event.target.value);\n  };\n\n  const handleTitleChange = (event) => {\n    setNewTitle(event.target.value);\n  };\n\n  const handleUrlChange = (event) => {\n    setNewUrl(event.target.value);\n  };\n\n  const resetInputFields = () => {\n    setNewAuthor(\"\");\n    setNewTitle(\"\");\n    setNewUrl(\"\");\n  };\n\n  const addBlogPost = (event) => {\n    event.preventDefault();\n    addPostFunction({\n      author: newAuthor,\n      title: newTitle,\n      url: newUrl,\n    });\n    resetInputFields();\n  };\n\n  return (\n    <form onSubmit={addBlogPost}>\n      <p>\n        author:\n        <input id=\"author\" value={newAuthor} onChange={handleAuthorChange} />\n      </p>\n      <p>\n        title:\n        <input id=\"title\" value={newTitle} onChange={handleTitleChange} />\n      </p>\n      <p>\n        url: <input id=\"url\" value={newUrl} onChange={handleUrlChange} />\n      </p>\n      <p>\n        <button type=\"submit\">ADD</button>\n        <button onClick={resetInputFields} type=\"reset\">\n          CLEAR\n        </button>\n      </p>\n    </form>\n  );\n};\n\nexport default BlogForm;\n","import React from \"react\";\n\nconst Post = ({\n  author,\n  title,\n  url,\n  likes,\n  id,\n  onLikeClick,\n  onDeleteClick,\n}) => {\n  return (\n    <tr>\n      <td>{title}</td>\n      <td>{author}</td>\n      <td>\n        <a href={url}>Link to {title}</a>\n      </td>\n      <td className=\"likesAmount\">{likes}</td>\n      <td>\n        <button onClick={() => onLikeClick(id)} className=\"likeButton\">\n          LIKE\n        </button>\n      </td>\n      <td>\n        <button\n          className=\"deleteButton\"\n          onClick={() => onDeleteClick(id, title)}\n        >\n          DELETE\n        </button>\n      </td>\n    </tr>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport Post from \"./Post\";\n\nconst BlogPosts = ({ list, onLikeClick, onDeleteClick }) => {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Title</th>\n          <th>Author</th>\n          <th>Url</th>\n          <th>Likes</th>\n          <th>Like Button</th>\n          <th>Delete Button</th>\n        </tr>\n      </thead>\n      <tbody>\n        {list\n          .sort((a, b) => {\n            return b.likes - a.likes;\n          })\n          .map((p) => (\n            <Post\n              key={p.id}\n              author={p.author}\n              title={p.title}\n              url={p.url}\n              likes={p.likes}\n              id={p.id}\n              onLikeClick={onLikeClick}\n              onDeleteClick={onDeleteClick}\n            />\n          ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default BlogPosts;\n","import React from \"react\";\n\nconst Notification = ({ notificationObject }) => {\n  const messageStyle = {\n    fontSize: \"20px\",\n    borderStyle: \"solid\",\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n  };\n\n  const success = {\n    color: \"#429745\",\n    background: \"#a9daab\",\n    ...messageStyle,\n  };\n\n  const fail = {\n    color: \"#a34847\",\n    background: \"#d49e9d\",\n    ...messageStyle,\n  };\n\n  if (notificationObject === null) {\n    return null;\n  }\n  return (\n    <div style={notificationObject.type === \"success\" ? success : fail}>\n      {notificationObject.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Filter = (props) => (\n  <p>\n    Filter entries by {props.type}:\n    <input\n      type=\"text\"\n      name=\"filter\"\n      value={props.newFilter}\n      onChange={props.onChange}\n    />\n  </p>\n);\n\nexport default Filter;\n","import React, { useState, useImperativeHandle } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false);\n  const toggleVisible = () => {\n    setVisible(!visible);\n  };\n\n  const hideWhenVisible = { display: visible ? \"none\" : \"\" };\n  const showWhenVisible = { display: visible ? \"\" : \"none\" };\n\n  useImperativeHandle(ref, () => {\n    return { toggleVisible };\n  });\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisible}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible} className=\"togglableContent\">\n        {props.children}\n        <button onClick={toggleVisible} className=\"cancelButton\">\n          cancel\n        </button>\n      </div>\n    </div>\n  );\n});\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired,\n};\n\nTogglable.displayName = \"Togglable\";\n\nexport default Togglable;\n","import React from \"react\";\nimport Filter from \"./Filter\";\nimport Togglable from \"./Togglable\";\n\nconst FilterComponent = ({\n  category,\n  handleCategoryChange,\n  filter,\n  onFilterInputChange,\n}) => (\n  <div className=\"filterComponent\">\n    <h2>Filter posts</h2>\n    <Togglable buttonLabel=\"Open filter\">\n      <form>\n        <label>\n          <input\n            type=\"radio\"\n            name=\"categorie\"\n            value=\"author\"\n            checked={category === \"author\"}\n            onChange={handleCategoryChange}\n          />\n          author\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            name=\"categorie\"\n            value=\"title\"\n            checked={category === \"title\"}\n            onChange={handleCategoryChange}\n          />\n          title\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            name=\"categorie\"\n            value=\"likes\"\n            checked={category === \"likes\"}\n            onChange={handleCategoryChange}\n          />\n          likes\n        </label>\n      </form>\n      <Filter\n        type={category}\n        newFilter={filter}\n        onChange={onFilterInputChange}\n      />\n    </Togglable>\n  </div>\n);\n\nexport default FilterComponent;\n","import React, { useState } from \"react\";\nimport PropsTypes from \"prop-types\";\n\nconst LoginForm = ({ onLoginFunction }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = (event) => {\n    event.preventDefault();\n    onLoginFunction(username, password);\n  };\n\n  return (\n    <>\n      <h2>log in to application</h2>\n      <form onSubmit={handleLogin}>\n        <p>\n          username:\n          <input\n            id=\"usernameInput\"\n            type=\"text\"\n            name=\"Username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </p>\n        <p>\n          password:\n          <input\n            id=\"passwordInput\"\n            type=\"text\"\n            name=\"Password\"\n            value={password}\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </p>\n        <button id=\"loginButton\" type=\"submit\">\n          login\n        </button>\n      </form>\n    </>\n  );\n};\n\nLoginForm.PropsTypes = {\n  onLoginFunction: PropsTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import axios from \"axios\";\nconst baseUrl = \"/blogPosts\";\n\nlet token = null;\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = async (id, newObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newObject);\n  return response.data;\n};\n\nconst deletePost = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  };\n  const response = await axios.delete(`${baseUrl}/${id}`, config);\n  return response.data;\n};\n\nexport default { getAll, create, update, deletePost, setToken };\n","import axios from \"axios\";\nconst baseUrl = \"/login\";\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default { login };\n","import React, { useState, useEffect } from \"react\";\nimport BlogForm from \"./components/BlogForm\";\nimport BlogPosts from \"./components/BlogPosts\";\nimport Notification from \"./components/Notification\";\nimport FilterComponent from \"./components/FilterComponent\";\nimport Togglable from \"./components/Togglable\";\nimport LoginForm from \"./components/LoginForm\";\nimport blogpostsServices from \"./services/blogposts\";\nimport loginServices from \"./services/login\";\nimport \"./App.css\";\n\nfunction App() {\n  const [blogPosts, setBlogPosts] = useState([]);\n  const [likes, setLikes] = useState(0);\n  const [notification, setNotification] = useState(null);\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"author\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    blogpostsServices\n      .getAll()\n      .then((data) => setBlogPosts(data))\n      .catch((error) => console.log(\"there was an error\", error));\n  }, []);\n\n  const createRandomId = () => {\n    return Math.floor((1 + Math.random()) * 0x100);\n  };\n\n  useEffect(() => {\n    const loggedBlogUserJSON = window.localStorage.getItem(\"loggedBlogUser\");\n    if (loggedBlogUserJSON) {\n      const loggedUser = JSON.parse(loggedBlogUserJSON);\n      setUser(loggedUser);\n      blogpostsServices.setToken(loggedUser.token);\n    }\n  }, []);\n\n  const displayMessage = (message, type) => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const updatePost = (oldPost, newPost) => {\n    const answer = window.confirm(\n      `${oldPost.title} already exists. Do you want to update this entry?`\n    );\n    if (answer) {\n      blogpostsServices.update(oldPost.id, newPost).then((response) => {\n        setBlogPosts(\n          blogPosts.map((p) => (p.id !== oldPost.id ? p : response))\n        );\n        // resetInputFields();\n        displayMessage(`Entry for ${newPost.title} was changed`, \"success\");\n      });\n    } else {\n      // resetInputFields();\n    }\n  };\n\n  const addPost = (newPostObject) => {\n    const newBlogPost = {\n      author: newPostObject.author,\n      title: newPostObject.title,\n      url: newPostObject.url,\n      likes: likes,\n      id: createRandomId(),\n    };\n\n    const equalPost = blogPosts.filter(\n      (p) => p.title.toLowerCase() === newBlogPost.title.toLowerCase()\n    );\n\n    equalPost.length > 0\n      ? updatePost(equalPost[0], newBlogPost)\n      : blogpostsServices\n          .create(newBlogPost)\n          .then((returnedBlogPost) => {\n            setBlogPosts(blogPosts.concat(returnedBlogPost));\n            displayMessage(\n              `a new blog \"${returnedBlogPost.title}\" by ${user.username} has been added`,\n              \"success\"\n            );\n          })\n          .catch((error) => {\n            console.log(\"this is the error\", error);\n          });\n    blogFormRef.current.toggleVisible();\n  };\n\n  const onLikeClick = (id) => {\n    const postToUpdate = blogPosts.find((p) => p.id === id);\n    const updatedPost = {\n      likes: setLikes(postToUpdate.likes++),\n      ...postToUpdate,\n    };\n\n    blogpostsServices\n      .update(id, updatedPost)\n      .then((data) =>\n        setBlogPosts(blogPosts.map((p) => (p.id === id ? data : p)))\n      );\n  };\n\n  const onDeleteClick = (id, title) => {\n    const answer = window.confirm(`Delete ${title}?`);\n    if (answer) {\n      blogpostsServices\n        .deletePost(id)\n        .then((data) => {\n          console.log(data);\n          setBlogPosts(blogPosts.filter((p) => p.id !== id));\n          displayMessage(`${title} has been deleted`, \"success\");\n        })\n        .catch((error) => {\n          const errorMessage = JSON.stringify(error);\n          console.log(errorMessage);\n          // if (.includes(/UNAUTHORIZED/)) {\n          //   displayMessage(`You cannot delete blogs from other users`, \"fail\");\n          // }\n          displayMessage(`${error}`, \"fail\");\n        });\n    } else {\n      setBlogPosts(blogPosts);\n    }\n  };\n\n  const handleLogin = async (username, password) => {\n    try {\n      const user = await loginServices.login({ username, password });\n      setUser(user);\n      blogpostsServices.setToken(user.token);\n      window.localStorage.setItem(\"loggedBlogUser\", JSON.stringify(user));\n    } catch (exception) {\n      displayMessage(\"wrong username or password\", \"fail\");\n    }\n  };\n\n  const handleLogout = async (event) => {\n    window.localStorage.removeItem(\"loggedBlogUser\");\n    setUser(null);\n  };\n\n  const handleCategoryChange = (event) => {\n    setFilterCategory(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const filterByCategory = (type, list, filter) => {\n    if (type === \"author\") {\n      return list.filter((p) =>\n        p.author.toLowerCase().includes(filter.toLowerCase())\n      );\n    } else if (type === \"title\") {\n      return list.filter((p) =>\n        p.title.toLowerCase().includes(filter.toLowerCase())\n      );\n    } else if (type === \"likes\") {\n      const integer = parseInt(filter);\n      if (integer) {\n        return list.filter((p) => p.likes >= integer);\n      } else {\n        console.log(\"please enter a number\");\n      }\n    }\n  };\n\n  let postsToShow =\n    newFilter !== \"\"\n      ? filterByCategory(filterCategory, blogPosts, newFilter)\n      : blogPosts;\n\n  const blogFormRef = React.createRef();\n\n  return (\n    <div className=\"App\">\n      <h1>Blog List</h1>\n      <Notification notificationObject={notification} />\n      {user === null ? (\n        <Togglable buttonLabel=\"login\">\n          <LoginForm onLoginFunction={handleLogin} />\n        </Togglable>\n      ) : (\n        <>\n          <p>{user.username} logged in</p>\n          <button onClick={handleLogout}>logout</button>\n          <FilterComponent\n            category={filterCategory}\n            handleCategoryChange={handleCategoryChange}\n            filter={newFilter}\n            onFilterInputChange={handleFilterChange}\n          />\n          <h2>Add a new blog entry</h2>\n          <Togglable buttonLabel=\"Add blog\" ref={blogFormRef}>\n            <BlogForm addPostFunction={addPost} />\n          </Togglable>\n          <h2>List of blogs</h2>\n          <BlogPosts\n            list={postsToShow}\n            onLikeClick={onLikeClick}\n            onDeleteClick={onDeleteClick}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}