(this.webpackJsonppart4_frontend=this.webpackJsonppart4_frontend||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(14),u=n.n(r),c=n(3),o=n(2),i=function(e){return l.a.createElement("form",{onSubmit:e.onSubmitChange},l.a.createElement("p",null,"author:",l.a.createElement("input",{value:e.authorValue,onChange:e.onAuthorChange})),l.a.createElement("p",null,"title: ",l.a.createElement("input",{value:e.titleValue,onChange:e.onTitleChange})),l.a.createElement("p",null,"url: ",l.a.createElement("input",{value:e.urlValue,onChange:e.onUrlChange})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit"},"ADD"),l.a.createElement("button",{onClick:e.onClear,type:"reset"},"CLEAR")))},s=function(e){var t=e.author,n=e.title,a=e.url,r=e.likes,u=e.id,c=e.onLikeClick,o=e.onDeleteClick;return l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null,n),l.a.createElement("td",null,l.a.createElement("a",{href:a},"Link to ",n)),l.a.createElement("td",null,r),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return c(u)}},"LIKE")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return o(u,n)}},"DELETE")))},f=function(e){return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Author"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Url"),l.a.createElement("th",null,"Likes"),l.a.createElement("th",null,"Like Button"),l.a.createElement("th",null,"Delete Button"))),l.a.createElement("tbody",null,e.list.map((function(t){return l.a.createElement(s,{key:t.id,author:t.author,title:t.title,url:t.url,likes:t.likes,id:t.id,onLikeClick:e.onLikeClick,onDeleteClick:e.onDeleteClick})}))))},h=function(e){var t=e.notificationObject,n={fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},a=Object(c.a)({color:"#429745",background:"#a9daab"},n),r=Object(c.a)({color:"#a34847",background:"#d49e9d"},n);return null===t?null:l.a.createElement("div",{style:"success"===t.type?a:r},t.message)},m=function(e){return l.a.createElement("p",null,"Filter entries by ",e.type,":",l.a.createElement("input",{value:e.newFilter,onChange:e.onChange}))},d=function(e){var t=e.category,n=e.handleCategoryChange,a=e.newFilter,r=e.onFilterInputChange;return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"categorie",value:"author",checked:"author"===t,onChange:n}),"author"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"categorie",value:"title",checked:"title"===t,onChange:n}),"title"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"categorie",value:"likes",checked:"likes"===t,onChange:n}),"likes")),l.a.createElement(m,{type:t,newFilter:a,onChange:r}))},E=n(4),g=n.n(E),b="/blogPosts",p=function(){return console.log("get all at",b),g.a.get(b).then((function(e){return e.data}))},C=function(e){return g.a.post(b,e).then((function(e){return e.data}))},k=function(e,t){return g.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},v=function(e){return g.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))};n(37);var y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),s=Object(o.a)(u,2),m=s[0],E=s[1],g=Object(a.useState)(""),b=Object(o.a)(g,2),y=b[0],j=b[1],O=Object(a.useState)(""),w=Object(o.a)(O,2),L=w[0],S=w[1],D=Object(a.useState)(0),A=Object(o.a)(D,2),F=A[0],x=A[1],V=Object(a.useState)(null),B=Object(o.a)(V,2),I=B[0],T=B[1],M=Object(a.useState)(""),U=Object(o.a)(M,2),J=U[0],R=U[1],_=Object(a.useState)("author"),z=Object(o.a)(_,2),K=z[0],N=z[1];Object(a.useEffect)((function(){p().then((function(e){return r(e)})).catch((function(e){return console.log("there was an error",e)}))}),[]);var P=function(){E(""),j(""),S("")},q=function(e,t){T({message:e,type:t}),setTimeout((function(){T(null)}),2e3)},G=""!==J?function(e,t,n){if("author"===e)return t.filter((function(e){return e.author.toLowerCase().includes(n.toLowerCase())}));if("title"===e)return t.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}));if("likes"===e){var a=parseInt(n);if(a)return t.filter((function(e){return e.likes>=a}));console.log("please enter a number")}}(K,n,J):n;return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Blog List"),l.a.createElement(h,{notificationObject:I}),l.a.createElement(d,{category:K,handleCategoryChange:function(e){return N(e.target.value)},newFilter:J,onFilterInputChange:function(e){R(e.target.value)}}),l.a.createElement("h2",null,"Add a new blog entry"),l.a.createElement(i,{onSubmitChange:function(e){e.preventDefault();var t,a,l={author:m,title:y,url:L,likes:F,id:Math.floor(256*(1+Math.random()))},u=n.filter((function(e){return e.title.toLowerCase()===l.title.toLowerCase()}));u.length>0?(t=u[0],a=l,window.confirm("".concat(t.title," already exists. Do you want to update this entry?"))?k(t.id,a).then((function(e){r(n.map((function(n){return n.id!==t.id?n:e}))),P(),q("Entry for ".concat(a.title," was changed"),"success")})):P()):C(l).then((function(e){r(n.concat(e)),P(),q("".concat(e.title," has been added"),"success")})).catch((function(e){P(),console.log("this is the error",e)}))},onClear:function(e){console.log("reset is pressed"),e.preventDefault(),P()},onAuthorChange:function(e){E(e.target.value)},onTitleChange:function(e){j(e.target.value)},onUrlChange:function(e){S(e.target.value)},authorValue:m,titleValue:y,urlValue:L}),l.a.createElement("h2",null,"List of blogs"),l.a.createElement(f,{list:G,onLikeClick:function(e){var t=n.find((function(t){return t.id===e})),a=Object(c.a)({likes:x(t.likes++)},t);k(e,a).then((function(t){return r(n.map((function(n){return n.id===e?t:n})))}))},onDeleteClick:function(e,t){window.confirm("Delete ".concat(t,"?"))?v(e).then((function(a){r(n.filter((function(t){return t.id!==e}))),q("".concat(t," has been deleted"),"success")})).catch((function(e){return q("".concat(t," has already been deleted"),"fail")})):r(n)}}))};u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.40d6d398.chunk.js.map